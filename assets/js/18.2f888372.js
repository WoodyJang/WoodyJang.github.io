(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{177:function(t,s,a){"use strict";a.r(s);var n=a(0),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"移动端web页面开发适方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移动端web页面开发适方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 移动端web页面开发适方案")]),t._v(" "),a("p",[t._v("在移动端开发过程中，面对各种分辨率的手机和各种尺寸的手机，如何让页面呈现相同的表现？")]),t._v(" "),a("h2",{attrs:{id:"_1-先理解几个概念"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-先理解几个概念","aria-hidden":"true"}},[t._v("#")]),t._v(" 1. 先理解几个概念")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("css像素")]),t._v(" "),a("blockquote",[a("p",[t._v("故名思议，就是我们平时所写css时用到的像素，与设备无关")])])]),t._v(" "),a("li",[a("p",[t._v("物理像素")]),t._v(" "),a("blockquote",[a("p",[t._v("即设备像素，是自然存在的，与任何因素都没有关系的像素，是显示器能显示的最小单元")])])]),t._v(" "),a("li",[a("p",[t._v("设备像素比(dpr，devicePixelRatio)")]),t._v(" "),a("blockquote",[a("p",[t._v("设备像素比 = 设备像素 / css像素，")])]),t._v(" "),a("ul",[a("li",[t._v("js中 通过window.devicePixelRatio获取当前设备的dpr，")]),t._v(" "),a("li",[t._v("css中 通过-webkit-device-pixel-ratio,-webkit-min-device-pixel-ratio和-webkit-max-device-pixel-ratio进行媒体查询，做一些样式适配。")])])])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("设备独立像素（dip/dp）")]),t._v(" "),a("blockquote",[a("p",[t._v("device independent\npixels，设备独立像素，与屏幕密度有关。dip可以用来辅助区分视网膜屏（retina）和非视网膜屏")])])]),t._v(" "),a("li",[a("p",[t._v("屏幕像素密度（PPI）")]),t._v(" "),a("blockquote",[a("p",[t._v("屏幕像素密度 = 对角线分辨率 / 屏幕尺寸 ，屏幕尺寸是屏幕对角线的长度")])])]),t._v(" "),a("li",[a("p",[t._v("viewport")]),t._v(" "),a("blockquote",[a("p",[t._v("标准设置")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("meta name"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"viewport"')]),t._v(" content"),a("span",{attrs:{class:"token operator"}},[t._v("=")]),a("span",{attrs:{class:"token string"}},[t._v('"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"')]),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("viewport 是严格的等于浏览器的窗口大小，"),a("br"),t._v("\nvisual viewport  可见视口 屏幕宽度 "),a("br"),t._v("\nlayout viewport 布局视口 DOM 宽度"),a("br"),t._v("\nvisual viewport = layout viewport * scale"),a("br"),t._v("\n获取屏幕宽度(visual viewport)的尺寸：window. innerWidth/Height"),a("br"),t._v("\n获取DOM宽度(layout viewport)的尺寸：document. documentElement. clientWidth/Height"),a("br"),t._v("\nwidth=device-width 所设置的width即为layout viewport")])])])]),t._v(" "),a("h2",{attrs:{id:"_2-视觉稿"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-视觉稿","aria-hidden":"true"}},[t._v("#")]),t._v(" 2.视觉稿")]),t._v(" "),a("blockquote",[a("p",[t._v("一般视觉稿为了达到高清效果都是按照iphone6 750 x 1334 dpr = 2 为基准，尺寸为4.7  其中 物理像素就是 750 x 1334 ，css像素为 375 x 667")])]),t._v(" "),a("h2",{attrs:{id:"_3-适配方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-适配方案","aria-hidden":"true"}},[t._v("#")]),t._v(" 3.适配方案")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("根据dpr进行屏幕的缩放")]),t._v(" "),a("blockquote",[a("p",[t._v("根据屏幕的分辨率动态的设置html的文字大小，以及scale的值，达到等比缩放的功能。")])]),t._v(" "),a("p",[t._v("这里我们提取了一个公式")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("    rem "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" dpr "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("1.乘以dpr，是因为页面有可能为了实现1px border页面会缩放(scale) 1/dpr 倍(如果没有，dpr=1)"),a("br"),t._v("\n2.除以10，是为了取整，方便计算")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" dpr"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" scale"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" docEl "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" fontEl "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'style'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" metaEl "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'meta[name=\"viewport\"]'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\ndpr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("devicePixelRatio "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nrem "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" docEl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" dpr "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nscale "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" dpr"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 设置viewport，进行缩放，达到高清效果")]),t._v("\nmetaEl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'content'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'width='")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" dpr "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" docEl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("',initial-scale='")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" scale "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("',maximum-scale='")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" scale "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("', minimum-scale='")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" scale "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("',user-scalable=no'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 设置data-dpr属性，留作的css hack之用")]),t._v("\ndocEl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setAttribute")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'data-dpr'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dpr"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 动态写入样式")]),t._v("\ndocEl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("firstElementChild"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fontEl"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nfontEl"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'html{font-size:'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" rem "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'px!important;}'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// 给js调用的，某一dpr下rem和px之间的转换函数")]),t._v("\nwindow"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("rem2px")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    v "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("parseFloat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" v "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("px2rem")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("function")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    v "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("parseFloat")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" v "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("dpr "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" dpr"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nwindow"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("rem "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("css")]),t._v(" "),a("p",[t._v("使用less或sass的mixin定义：")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("px2rem")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("@name"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" @px"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    @"),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" @px "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("75")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("1")]),t._v("rem"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])])}],!1,null,null,null);o.options.__file="web.md";s.default=o.exports}}]);